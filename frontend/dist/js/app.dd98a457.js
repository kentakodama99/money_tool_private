(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[n("router-view")],1)],1)},o=[],i={data:function(){return{}}},s=i,c=n("2877"),l=n("6544"),u=n.n(l),d=n("7496"),m=n("a75b"),f=Object(c["a"])(s,a,o,!1,null,null,null),v=f.exports;u()(f,{VApp:d["a"],VContent:m["a"]});var p=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Home"},[n("v-container",{staticClass:"cyan lighten-4",attrs:{fluid:""}},[n("div",{staticClass:"ma-3 pa-3 white"},[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.put_dialog,callback:function(t){e.put_dialog=t},expression:"put_dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("編集する")])]),n("v-card-text",[n("v-container",[n("v-form",{ref:"put_form"},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"月",rules:[e.required]},model:{value:e.put.month,callback:function(t){e.$set(e.put,"month",t)},expression:"put.month"}},[e._v("月")])],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"給料",rules:[e.required]},model:{value:e.put.money,callback:function(t){e.$set(e.put,"money",t)},expression:"put.money"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"交通費",rules:[e.required]},model:{value:e.put.travel_cost,callback:function(t){e.$set(e.put,"travel_cost",t)},expression:"put.travel_cost"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"差分",rules:[e.required]},model:{value:e.put.difference,callback:function(t){e.$set(e.put,"difference",t)},expression:"put.difference"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.editClose}},[e._v("キャンセル")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.putItem}},[e._v("更新")])],1)],1)],1),n("h1",{staticClass:"pa-2 text-center"},[e._v("お金管理ツール")]),n("div",{staticClass:"mt-10"},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items},scopedSlots:e._u([{key:"item.lastmonth_money",fn:function(t){var r=t.item;return[0==e.dataIndex(r)?n("div",[e._v("0")]):n("div",[e._v(e._s(e.arr_lm_moneys[e.dataIndex(r)-1]))])]}},{key:"item.thismonth_money",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(e.arr_lm_moneys[e.dataIndex(r)]))])]}},{key:"item.menu",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v("mdi-pencil")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v("mdi-delete")])]}}])})],1)],1),e._v(" "),n("v-card",{staticClass:"ma-15"},[n("v-card-title",[e._v("データ追加")]),n("v-form",{ref:"add_form"},[n("v-card-text",[n("v-select",{attrs:{items:e.monthitems,label:"月",rules:[e.required]},model:{value:e.add.month,callback:function(t){e.$set(e.add,"month",t)},expression:"add.month"}}),n("v-text-field",{attrs:{label:"給料",rules:[e.required]},model:{value:e.add.money,callback:function(t){e.$set(e.add,"money",t)},expression:"add.money"}}),n("v-text-field",{attrs:{label:"交通費",rules:[e.required]},model:{value:e.add.travel_cost,callback:function(t){e.$set(e.add,"travel_cost",t)},expression:"add.travel_cost"}}),n("v-text-field",{attrs:{label:"差分",rules:[e.required]},model:{value:e.add.difference,callback:function(t){e.$set(e.add,"difference",t)},expression:"add.difference"}})],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:e.addItem}},[e._v("送信する")])],1)],1)],1)],1)},_=[],b=n("1da1"),x=(n("a9e3"),n("96cf"),n("bc3a")),g=n.n(x),y={data:function(){return{headers:[{text:"月",align:"center",value:"month"},{text:"前残高",align:"center",value:"lastmonth_money"},{text:"給料",align:"center",value:"money"},{text:"交通費",align:"center",value:"travel_cost"},{text:"差分",align:"center",value:"difference"},{text:"今残高",align:"center",value:"thismonth_money"},{text:"menu",align:"center",value:"menu"}],add:{month:null,money:null,travel_cost:null,difference:null},put_Index:-1,put_dialog:!1,put:{month:"",money:"",travel_cost:"",difference:""},required:function(e){return!!e||"テキストが空欄です。"},monthitems:[1,2,3,4,5,6,7,8,9,10,11,12],datacsv:[],items:[],arr_lm_moneys:[]}},computed:{dataIndex:function(){var e=this;return function(t){return e.items.indexOf(t)}}},methods:{getItem:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/users",t.next=3,g.a.get(n).then((function(t){e.items=t.data})).catch((function(e){console.log(e)}));case 3:e.getLmMoneys();case 4:case"end":return t.stop()}}),t)})))()},getLmMoneys:function(){for(var e=[],t=0;t<this.items.length;t++)0==t?e.push(Number(this.items[t].money-this.items[t].travel_cost-this.items[t].difference)):e.push(Number(e[t-1])+Number(this.items[t].money-this.items[t].travel_cost-this.items[t].difference));this.arr_lm_moneys=e},addItem:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.add_form.validate()){t.next=11;break}return n=new FormData,n.append("month",e.add.month),n.append("money",e.add.money),n.append("travel_cost",e.add.travel_cost),n.append("difference",e.add.difference),r="/users",t.next=9,g.a.post(r,n).then((function(t){console.log(t),e.$refs.add_form.reset(),e.getItem()})).catch((function(e){console.log(e)}));case 9:t.next=12;break;case 11:alert("空欄を入力してください。");case 12:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.put_Index=this.items.indexOf(e),this.put=Object.assign({},e),this.put_dialog=!0},editClose:function(){this.put_dialog=!1,this.put_Index=-1},putItem:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.put_form.validate()){t.next=11;break}return n=new FormData,n.append("month",e.put.month),n.append("money",e.put.money),n.append("travel_cost",e.put.travel_cost),n.append("difference",e.put.difference),r="/users/"+e.put_Index,t.next=9,g.a.put(r,n).then((function(t){console.log(t),e.editClose(),e.getItem()})).catch((function(e){console.log(e)}));case 9:t.next=12;break;case 11:alert("空欄を入力してください。");case 12:case"end":return t.stop()}}),t)})))()},deleteItem:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.items.indexOf(e),!confirm("本当に消してもいいですか？（"+t.items[r].month+"月分）")){n.next=5;break}return a="/users/"+r,n.next=5,g.a.delete(a).then((function(e){console.log(e),t.getItem()})).catch((function(e){console.log(e)}));case 5:case"end":return n.stop()}}),n)})))()}},created:function(){this.getItem()}},w=y,k=n("8336"),I=n("b0af"),O=n("99d9"),C=n("62ad"),V=n("a523"),j=n("8fea"),$=n("169a"),q=n("ce7e"),R=n("4bd4"),S=n("132d"),P=n("0fd9"),T=n("b974"),M=n("2fa4"),D=n("8654"),F=Object(c["a"])(w,h,_,!1,null,null,null),N=F.exports;u()(F,{VBtn:k["a"],VCard:I["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:V["a"],VDataTable:j["a"],VDialog:$["a"],VDivider:q["a"],VForm:R["a"],VIcon:S["a"],VRow:P["a"],VSelect:T["a"],VSpacer:M["a"],VTextField:D["a"]}),r["a"].use(p["a"]);var A=[{path:"/",name:"Home",component:N}],E=new p["a"]({mode:"history",base:"",routes:A}),H=E,J=n("f309");r["a"].use(J["a"]);var L=new J["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:H,vuetify:L,render:function(e){return e(v)}}).$mount("#app")}});
//# sourceMappingURL=app.dd98a457.js.map